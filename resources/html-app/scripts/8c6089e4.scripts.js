!function(){"use strict";angular.module("weatherjerkApp",["ngResource"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"/views/gloats/new.html",controller:"GloatsNewCtrl"}).when("/gloats/:id",{templateUrl:"/views/gloats/show.html",controller:"GloatsShowCtrl"}).otherwise({redirectTo:"/"})}])}.call(this),function(){angular.module("weatherjerkApp").directive("activity",function(){return{restrict:"EA",scope:{status:"="},template:"<div class=\"activity\" ng-show=\"status == 'waiting'\">      <img src='/images/ajax-loader.gif' />    </div>",replace:!0}})}.call(this),function(){angular.module("weatherjerkApp").directive("date",function(){return{restrict:"EA",scope:{date:"=data"},controller:["$scope",function(a){return a.formatDateTime=function(a){return moment(a).format("ddd MMM D, YYYY")}}],template:"<div class='date'>{{formatDateTime(date)}}</div>",replace:!0}})}.call(this),function(){angular.module("weatherjerkApp").directive("errorMessages",function(){return{restrict:"A",replace:!0,scope:{messages:"=errorMessages"},template:'<div class="error" ng-show="messages"><ul><li ng-repeat="message in messages">{{message}}</li></ul></div>'}})}.call(this),function(){angular.module("weatherjerkApp").directive("forecast",function(){return{restrict:"E",scope:{data:"="},controller:["$scope",function(a){return a.settings=a.$parent.settings,a.sign=function(b){return a.data&&b?b>0?"+"+b.toFixed(0):b.toFixed(0):void 0},a.ct=function(b,c){return a.data&&b.comparison?c?a.sign(b.comparison.temperature[c][a.settings.unit]):a.sign(b.comparison.temperature[a.settings.unit]):void 0},a.temperature=function(b){return a.data?""+b[a.settings.unit]+"Â°"+a.settings.unit:void 0}}],template:'<div ng-show="data" class="forecast-data">\n  <div class="current">\n    <h2 class=\'location\'>{{data.location}}</h2>\n    <h3>Right Now</h3>\n    <forecast-icon data="data.current" size="128"></forecast-icon>\n    <table>\n      <tr>\n        <td>Temperature</td>\n        <td>{{temperature(data.current.temperature)}}</td>\n        <td class=\'comparison\'>{{ct(data.current)}}</td>\n      </tr>\n      <tr>\n        <td>Humidity</td>\n        <td>{{data.current.humidity}}%</td>\n        <td class=\'comparison\'>{{sign(data.current.comparison.humidity)}}</td>\n      </tr>\n    </table>\n  </div>\n  <h3>4-Day Forecast</h3>\n  <div class="forecast-day" ng-repeat="forecast in data.forecast">\n    <date data="forecast.date"></date>\n    <forecast-icon data="forecast"></forecast-icon>\n    <table class="temperature">\n      <tr class="temp-high">\n        <td>High:</td>\n        <td>{{temperature(forecast.temperature.high)}}</td>\n        <td class=\'comparison\'>{{ct(forecast, \'high\')}}</td>\n      </tr>\n      <tr class="temp-low">\n        <td>Low:</td>\n        <td>{{temperature(forecast.temperature.low)}}</td>\n        <td class=\'comparison\'>{{ct(forecast, \'low\')}}</td>\n      </tr>\n    </table>\n  </div>\n</div>',replace:!0}})}.call(this),function(){angular.module("weatherjerkApp").directive("forecastForm",function(){return{restrict:"E",scope:{forecasts:"=",which:"@",placeholder:"@"},controller:["$scope","$http",function(a,b){return a.getForecastData=function(){return $(".forecast-form input").each(function(a,b){var c;return c=$(b),""===$(b).val()?($(b).select(),!1):!0}),a.status="waiting",b.get("/forecasts/"+encodeURIComponent(a.forecast)).then(function(b){return a.status="complete",a.forecasts[a.which]=b.data,console.log(a.forecasts[a.which])})}}],template:'<form ng-submit="getForecastData()" class="forecast-form">\n  <div>\n    <input type="text"\n           ng-model="forecast"\n           placeholder="{{placeholder}}"/>\n    <input type="submit" value="Get Forecast"/>\n  </div>\n  <activity status="status"></activity>\n</form>',replace:!0}})}.call(this),function(){angular.module("weatherjerkApp").directive("forecastIcon",function(){return{restrict:"E",scope:{data:"=",size:"="},controller:["$scope","WeatherCode",function(a,b){var c;return c=function(){return a.size||"64"},a.iconPath=function(){return a.data?"/images/weather-icons/PNGs_"+c()+"x"+c()+"/"+b[a.data.code]+".png":void 0}}],template:'<div class="forecast-icon">\n  <img ng-src="{{iconPath()}}" />\n</div>',replace:!0}})}.call(this),function(){"use strict";angular.module("weatherjerkApp").controller("FoundationCtrl",["$scope",function(a){var b,c;return a.settings={unit:"f"},a.forecasts={gloater:null,poorSlob:null},a.gloat=null,c=function(a,b){return{c:a.c-b.c,f:a.f-b.f}},b=function(a,b){return a.current.comparison={temperature:c(a.current.temperature,b.current.temperature),humidity:a.current.humidity-b.current.humidity},_.each(a.forecast,function(a,d){return a.comparison={temperature:{high:c(a.temperature.high,b.forecast[d].temperature.high),low:c(a.temperature.low,b.forecast[d].temperature.low)}}})},a.compareForecasts=function(a,c){return b(a,c),b(c,a)}}])}.call(this),function(){"use strict";angular.module("weatherjerkApp").controller("ForecastsCtrl",["$scope",function(a){return a.classes=function(a){return _.map(a.conditions.keys,function(a){return"forecast-"+a})}}])}.call(this),function(){"use strict";angular.module("weatherjerkApp").controller("GloatsNewCtrl",["$scope","$http","Gloat",function(a,b,c){var d,e;return $(function(){return $(".forecast-form input").first().select()}),a.selectText=function(a){var b,c,d,e;return b=document,e=a.target,b.body.createTextRange?(c=b.body.createTextRange(),c.moveToElementText(e),c.select()):window.getSelection?(d=window.getSelection(),c=b.createRange(),c.selectNodeContents(e),d.removeAllRanges(),d.addRange(c)):void 0},d=function(){var b;return b=new c({gloater_forecast_id:a.forecasts.gloater.id,poor_slob_forecast_id:a.forecasts.poorSlob.id}),b.$save(function(b){return a.gloat=b})},e=function(){return a.forecasts.gloater&&a.forecasts.poorSlob?(a.compareForecasts(a.forecasts.gloater,a.forecasts.poorSlob),d()):void 0},a.$watch("forecasts.gloater",e),a.$watch("forecasts.poorSlob",e)}])}.call(this),function(){"use strict";angular.module("weatherjerkApp").controller("GloatsShowCtrl",["$scope","$routeParams","Gloat",function(a,b,c){var d;return c.get({id:b.id},function(b){return a.gloat=b,a.compareForecasts(a.gloat.forecasts.gloater,a.gloat.forecasts.poorSlob)}),d=function(){return a.forecasts.gloater&&a.forecasts.poorSlob?a.compareForecasts(a.forecasts.gloater,a.forecasts.poorSlob):void 0},a.$watch("forecasts.gloater",d),a.$watch("forecasts.poorSlob",d)}])}.call(this),function(){"use strict";angular.module("weatherjerkApp").factory("Gloat",["$resource",function(a){var b;return b=a("/gloats/:id",{id:"@id"})}])}.call(this),function(){angular.module("weatherjerkApp").factory("WeatherCode",function(){return{chanceflurries:"wsymbol_0011_light_snow_showers",chancerain:"wsymbol_0017_cloudy_with_light_rain",chancesleet:"wsymbol_0050_freezing_rain",chancesleet:"wsymbol_0021_cloudy_with_sleet",chancesnow:"wsymbol_0019_cloudy_with_light_snow",chancetstorms:"wsymbol_0024_thunderstorms",chancetstorms:"wsymbol_0024_thunderstorms",clear:"wsymbol_0001_sunny",cloudy:"wsymbol_0004_black_low_cloud",flurries:"wsymbol_0012_heavy_snow_showers",fog:"wsymbol_0007_fog",hazy:"wsymbol_0005_hazy_sun",mostlycloudy:"wsymbol_0043_mostly_cloudy",mostlysunny:"wsymbol_0002_sunny_intervals",partlycloudy:"wsymbol_0002_sunny_intervals",partlysunny:"wsymbol_0043_mostly_cloudy",sleet:"wsymbol_0050_freezing_rain",rain:"wsymbol_0018_cloudy_with_heavy_rain",sleet:"wsymbol_0021_cloudy_with_sleet",snow:"wsymbol_0020_cloudy_with_heavy_snow",sunny:"wsymbol_0001_sunny",tstorms:"wsymbol_0024_thunderstorms",tstorms:"wsymbol_0024_thunderstorms",unknown:"wsymbol_0999_unknown",cloudy:"wsymbol_0004_black_low_cloud",partlycloudy:"wsymbol_0002_sunny_intervals"}})}.call(this);